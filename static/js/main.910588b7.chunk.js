(this["webpackJsonptoken-swap-ui"]=this["webpackJsonptoken-swap-ui"]||[]).push([[0],{115:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return j}));var a=n(25),r=n(28),o=n(2),c=n.n(o),i=n(9),u=n(20),s=n(47),l=n(0),d=n(40),p=n(46),f=n(42),m=n(34),b=n(68),h=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r,o){var i,l,h,g,v,y,k,j,O,E,S,x,C,B;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&a[0].account){e.next=3;break}return Object(p.a)({type:"error",message:"Pool doesn't exsist.",description:"Swap trade cancelled"}),e.abrupt("return");case 3:return i=a[0].amount,l=a[1].amount*(1-r),h=o.pubkeys.holdingMints[0].toBase58()===a[0].account.info.mint.toBase58()?o.pubkeys.holdingAccounts[0]:o.pubkeys.holdingAccounts[1],g=h===o.pubkeys.holdingAccounts[0]?o.pubkeys.holdingAccounts[1]:o.pubkeys.holdingAccounts[0],e.next=9,f.b.getMint(t,o.pubkeys.mint);case 9:if((v=e.sent).mintAuthority&&o.pubkeys.feeAccount){e.next=12;break}throw new Error("Mint doesnt have authority");case 12:return y=v.mintAuthority,k=[],j=[],O=[],e.next=18,t.getMinimumBalanceForRentExemption(d.a.span);case 18:return E=e.sent,S=A(k,j,a[0].account,n.publicKey,i+E,O),x=w(n.publicKey,n.publicKey,k,j,E,new u.d(a[1].mintAddress),O),k.push(d.c.createApproveInstruction(Object(m.d)().token,S,y,n.publicKey,[],i)),C=m.a?w(n.publicKey,m.a,k,j,E,o.pubkeys.mint,O):void 0,k.push(Object(b.swapInstruction)(o.pubkeys.account,y,S,h,g,x,o.pubkeys.mint,o.pubkeys.feeAccount,o.pubkeys.program,Object(m.d)().token,i,l,C)),e.next=26,Object(s.b)(t,n,k.concat(j),O);case 26:B=e.sent,Object(p.a)({message:"Trade executed.",type:"success",description:"Transaction - ".concat(B)});case 28:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),g=function(e,t){return t.map((function(t){return f.b.getAccount(e,new u.d(t))}))},v=function(e,t,n){var a=new u.d(e.data.tokenPool);return{pubkeys:{account:e.pubkey,program:t,mint:a,holdingMints:[],holdingAccounts:[e.data.tokenAccountA,e.data.tokenAccountB].map((function(e){return new u.d(e)}))},legacy:!1,raw:e}},y=function(){var e=Object(s.c)(),t=Object(l.useState)([]),n=Object(r.a)(t,2),o=n[0],d=n[1];return Object(l.useEffect)((function(){d([]);var t=function(){var t=Object(i.a)(c.a.mark((function t(n){var a,r,o=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]&&o[1],r=[],t.next=4,e.getProgramAccounts(n);case 4:return t.sent.filter((function(e){return e.account.data.length===b.TokenSwapLayout.span||e.account.data.length===b.TokenSwapLayoutLegacyV0.span})).map((function(t){var o={data:void 0,account:t.account,pubkey:t.pubkey,init:function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};if(t.account.data.length===b.TokenSwapLayoutLegacyV0.span){o.data=b.TokenSwapLayoutLegacyV0.decode(t.account.data);var s=v(o,n);s.legacy=a,r.push(s),o.init=Object(i.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(g(e,[o.data.tokenAccountA,o.data.tokenAccountB]));case 3:n=t.sent,s.pubkeys.holdingMints=[n[0].info.mint,n[1].info.mint],t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}else{o.data=b.TokenSwapLayout.decode(t.account.data);var l=v(o,n);l.legacy=a,l.pubkeys.feeAccount=new u.d(o.data.feeAccount),l.pubkeys.holdingMints=[new u.d(o.data.mintA),new u.d(o.data.mintB)],r.push(l)}return o})),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Promise.all([t(Object(m.d)().swap)].concat(Object(a.a)(Object(m.d)().swap_legacy.map((function(e){return t(e,!0)}))))).then((function(e){d(e.flat())}))}),[e]),Object(l.useEffect)((function(){var t=e.onProgramAccountChange(Object(m.d)().swap,function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,s,l,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.accountId,t.accountInfo.data.length===b.TokenSwapLayout.span&&(r=t.accountInfo,i={data:b.TokenSwapLayout.decode(r.data),account:r,pubkey:new u.d(n)},(s=o&&o.findIndex((function(e){return e.pubkeys.account.toBase58()===n})))&&s>=0&&o?(l=o.filter((function(e,t){return t!==s})),d([].concat(Object(a.a)(l),[v(i,Object(m.d)().swap)]))):((p=v(i,Object(m.d)().swap)).pubkeys.feeAccount=new u.d(i.data.feeAccount),p.pubkeys.holdingMints=[new u.d(i.data.mintA),new u.d(i.data.mintB)],d([].concat(Object(a.a)(o),[p]))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){e.removeProgramAccountChangeListener(t)}}),[e,o]),{pools:o}},k=function(e){var t=Object(s.c)(),n=Object(f.e)().pools,o=Object(l.useState)(),u=Object(r.a)(o,2),d=u[0],p=u[1],m=Object(a.a)(e).sort();return Object(l.useEffect)((function(){Object(i.a)(c.a.mark((function e(){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(void 0),a=n.filter((function(e){return!e.legacy})).filter((function(e){return e.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort().every((function(e,t){return e===m[t]}))})),r=0;case 3:if(!(r<a.length)){e.next=14;break}return o=a[r],e.next=7,f.b.getAccount(t,o.pubkeys.holdingAccounts[0]);case 7:if(e.sent.info.amount.eqn(0)){e.next=11;break}return p(o),e.abrupt("return");case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})))()}),[t].concat(Object(a.a)(m),[n])),d};function w(e,t,n,a,r,o,c,i){var u,s=o.toBase58(),l=Object(f.c)((function(e){return e.info.mint.toBase58()===s&&e.info.owner.toBase58()===t.toBase58()&&(void 0===i||!i.has(e.pubkey.toBase58()))})),p=s===m.c.toBase58();if(l&&!p)u=l.pubkey;else{var b=E(n,e,r,o,t,d.a.span);u=b.publicKey,c.push(b),p&&a.push(d.c.createCloseAccountInstruction(Object(m.d)().token,u,e,e,[]))}return u}function j(e,t,n,a){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i,u,s,l,d,p,m,b,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.getMint(t,r.pubkeys.mint);case 2:return o=e.sent,e.next=5,f.b.getAccount(t,r.pubkeys.holdingAccounts[0]);case 5:return i=e.sent,e.next=8,f.b.getAccount(t,r.pubkeys.holdingAccounts[1]);case 8:if(u=e.sent,o.mintAuthority){e.next=11;break}throw new Error("Mint doesnt have authority");case 11:if(!o.supply.eqn(0)){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,f.b.getMint(t,i.info.mint);case 15:return s=e.sent,e.next=18,f.b.getMint(t,u.info.mint);case 18:if(l=e.sent,s&&l){e.next=21;break}return e.abrupt("return");case 21:return d=i.info.mint.toBase58()===n,p=Math.pow(10,d?l.decimals:s.decimals),m=Math.pow(10,d?s.decimals:l.decimals),b=a*m,h=d?u.info.amount.toNumber()/i.info.amount.toNumber()*b:i.info.amount.toNumber()/u.info.amount.toNumber()*b,e.abrupt("return",h/p);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n,a,r,o){if(!n.info.isNative)return n.pubkey;var c=new u.a;return e.push(u.e.createAccount({fromPubkey:a,newAccountPubkey:c.publicKey,lamports:r,space:d.a.span,programId:Object(m.d)().token})),e.push(d.c.createInitAccountInstruction(Object(m.d)().token,m.c,c.publicKey,a)),t.push(d.c.createCloseAccountInstruction(Object(m.d)().token,c.publicKey,a,a,[])),o.push(c),c.publicKey}function E(e,t,n,a,r,o){var c=new u.a;return e.push(u.e.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:o,programId:Object(m.d)().token})),e.push(d.c.createInitAccountInstruction(Object(m.d)().token,a,c.publicKey,r)),c}},151:function(e){e.exports=JSON.parse('{"mainnet-beta":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"USDT","mintAddress":"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4","tokenName":"Wrapped USDT","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"tokenSymbol":"USDC","mintAddress":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","tokenName":"USDC","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{"tokenSymbol":"ORCA","mintAddress":"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE","tokenName":"Orca","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE/logo.png"},{"tokenSymbol":"RAY","mintAddress":"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R","tokenName":"Raydium","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R/logo.png"},{"tokenSymbol":"FIDA","mintAddress":"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","tokenName":"Bonfida","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp/logo.svg"},{"tokenSymbol":"DXL","mintAddress":"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z","tokenName":"Dexlab","icon":"https://raw.githubusercontent.com/dexlab-project/assets/master/dexlab/dexlab_symbol_logo.svg"},{"tokenSymbol":"MNGO","mintAddress":"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac","tokenName":"Mango","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac/token.png"},{"tokenSymbol":"BTC","mintAddress":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","tokenName":"Wrapped Bitcoin","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"},{"tokenSymbol":"ETH","mintAddress":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","tokenName":"Wrapped Ethereum","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"tokenSymbol":"SRM","tokenName":"Serum","mintAddress":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{"tokenSymbol":"1SP","mintAddress":"2zzC22UBgJGCYPdFyo7GDwz7YHq5SozJc1nnBqLU8oZb","tokenName":"1SPACE","icon":"https://1space.me/images/1SP_logo.png"},{"tokenSymbol":"BND","mintAddress":"A4K1NiurCDitDMLBiuDV6oVMftoHJzUMeX5pQcFW7k9S","tokenName":"Bender","icon":"https://raw.githubusercontent.com/solana-labs/token-list/a4373694e907dc8749bdd7a07731257db8f5a39b/assets/mainnet/Bender.JPG"}],"testnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"ABC","mintAddress":"D4fdoY5d2Bn1Cmjqy6J6shRHjcs7QNuBPzwEzTLrf7jm","tokenName":"ABC Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"}],"devnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"XYZ","mintAddress":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","tokenName":"XYZ Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{"tokenSymbol":"ABC","mintAddress":"6z83b76xbSm5UhdG33ePh7QCbLS8YaXCQ9up86tDTCUH","tokenName":"ABC Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{"tokenSymbol":"DEF","mintAddress":"3pyeDv6AV1RQuA6KzsqkZrpsNn4b3hooHrQhGs7K2TYa","tokenName":"DEF Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"}],"localnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"}]}')},215:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b}));var a=n(2),r=n.n(a),o=n(9),c=n(20);function i(e,t,n,a){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(r.a.mark((function e(t,n,a,o){var c,i,u,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=0,i=0,!(o.length>255)){e.next=15;break}case 3:if(!(o.length-i>255)){e.next=15;break}return u=o.slice(i,i+255),i+=255,console.log("send",(2|c).toString(16),u.length.toString(16),u),e.next=9,t.send(224,n,a,2|c,u);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("Received unexpected reply payload");case 12:c|=1,e.next=3;break;case 15:return s=o.slice(i),console.log("send",c.toString(16),s.length.toString(16),s),e.next=19,t.send(224,n,a,c,s);case 19:return l=e.sent,e.abrupt("return",l.slice(0,l.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e|1<<31>>>0)>>>0}function l(t,n){var a;a=void 0!==t?void 0!==n?4:3:2;var r=e.alloc(1+4*a),o=0;return o=r.writeUInt8(a,o),o=r.writeUInt32BE(s(44),o),o=r.writeUInt32BE(s(501),o),a>2&&(o=r.writeUInt32BE(s(t),o),4===a&&(o=r.writeUInt32BE(s(n),o))),r}function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(r.a.mark((function e(t,n){var a,o,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:l(),o=n.serializeMessage(),e.abrupt("return",f(t,o,a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(r.a.mark((function t(n,a){var o,c,u,s=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:l(),(c=e.alloc(1)).writeUInt8(1,0),u=e.concat([c,o,a]),t.abrupt("return",i(n,6,1,u));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t){var n,a,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:l(),e.next=3,i(t,5,0,n);case 3:return a=e.sent,e.abrupt("return",new c.d(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(19).Buffer)},246:function(e,t){},247:function(e,t){},248:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f}));var a=n(90),r=n(20),o=n(3),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return o.blob(32,e)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return o.blob(8,e)},u=o.struct([o.u8("isInitialized"),o.u8("nonce"),c("tokenAccountA"),c("tokenAccountB"),c("tokenPool"),i("feesNumerator"),i("feesDenominator")]),s=o.struct([o.u8("isInitialized"),o.u8("nonce"),c("tokenProgramId"),c("tokenAccountA"),c("tokenAccountB"),c("tokenPool"),c("mintA"),c("mintB"),c("feeAccount"),o.u8("curveType"),i("tradeFeeNumerator"),i("tradeFeeDenominator"),i("ownerTradeFeeNumerator"),i("ownerTradeFeeDenominator"),i("ownerWithdrawFeeNumerator"),i("ownerWithdrawFeeDenominator"),o.blob(16,"padding")]),l=function(t,n,a,c,i,u,s,l,d,p,f,m,b,h,g,v,y){var k=[{pubkey:t.publicKey,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1}],w=o.struct([o.u8("instruction"),o.u8("nonce"),o.u8("curveType"),o.nu64("tradeFeeNumerator"),o.nu64("tradeFeeDenominator"),o.nu64("ownerTradeFeeNumerator"),o.nu64("ownerTradeFeeDenominator"),o.nu64("ownerWithdrawFeeNumerator"),o.nu64("ownerWithdrawFeeDenominator"),o.blob(16,"padding")]),j=e.alloc(1024),O=w.encode({instruction:0,nonce:p,curveType:f,tradeFeeNumerator:m,tradeFeeDenominator:b,ownerTradeFeeNumerator:h,ownerTradeFeeDenominator:g,ownerWithdrawFeeNumerator:v,ownerWithdrawFeeDenominator:y},j);return j=j.slice(0,O),new r.g({keys:k,programId:d,data:j})},d=function(t,n,c,u,s,l,d,p,f,m,b,h,g){var v=o.struct([o.u8("instruction"),i("poolTokenAmount"),i("maximumTokenA"),i("maximumTokenB")]),y=e.alloc(v.span);v.encode({instruction:2,poolTokenAmount:new a.a(b).toBuffer(),maximumTokenA:new a.a(h).toBuffer(),maximumTokenB:new a.a(g).toBuffer()},y);var k=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1}];return new r.g({keys:k,programId:f,data:y})},p=function(t,n,c,u,s,l,d,p,f,m,b,h,g,v){var y=o.struct([o.u8("instruction"),i("poolTokenAmount"),i("minimumTokenA"),i("minimumTokenB")]),k=e.alloc(y.span);y.encode({instruction:3,poolTokenAmount:new a.a(h).toBuffer(),minimumTokenA:new a.a(g).toBuffer(),minimumTokenB:new a.a(v).toBuffer()},k);var w=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0}];return u&&w.push({pubkey:u,isSigner:!1,isWritable:!0}),w.push({pubkey:b,isSigner:!1,isWritable:!1}),new r.g({keys:w,programId:m,data:k})},f=function(t,n,c,u,s,l,d,p,f,m,b,h,g){var v=o.struct([o.u8("instruction"),i("amountIn"),i("minimumAmountOut")]),y=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1}];g&&y.push({pubkey:g,isSigner:!1,isWritable:!0});var k=e.alloc(v.span);return v.encode({instruction:1,amountIn:new a.a(b).toBuffer(),minimumAmountOut:new a.a(h).toBuffer()},k),new r.g({keys:y,programId:f,data:k})}}).call(this,n(19).Buffer)},288:function(e,t,n){e.exports=n.p+"static/media/twitter.46c16738.svg"},289:function(e,t,n){e.exports=n.p+"static/media/telegram.85be0578.svg"},290:function(e,t,n){e.exports=n.p+"static/media/github.ef2ea490.svg"},291:function(e,t,n){e.exports=n.p+"static/media/discord.8ad03682.svg"},299:function(e,t,n){e.exports=n(489)},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t){},309:function(e,t){},331:function(e,t){},332:function(e,t){},34:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m}));var a,r,o,c=n(20),i=n(68),u=new c.d("So11111111111111111111111111111111111111112"),s=new c.d("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),l=new c.d("HfoTxFR1Tm6kGmWgYWD6J7YHVy1UwqSULUGVLXkJqaKN"),d=new c.d("".concat("4rdog8sEF6BJadd8L2zWgfNKaFK6gHE7tT8iGo1dQANc"));console.debug("Host address: ".concat(null===d||void 0===d?void 0:d.toBase58())),console.debug("Owner address: ".concat(null===l||void 0===l?void 0:l.toBase58()));var p=[{name:"mainnet-beta",swap:function(){return{current:{pubkey:new c.d("SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8"),layout:i.TokenSwapLayout},legacy:[new c.d("9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL")]}}},{name:"testnet",swap:function(){return{current:{pubkey:new c.d("SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8"),layout:i.TokenSwapLayout},legacy:[]}}},{name:"devnet",swap:function(){return{current:{pubkey:new c.d("SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8"),layout:i.TokenSwapLayout},legacy:[]}}},{name:"localnet",swap:function(){return{current:{pubkey:new c.d("369YmCWHGxznT7GGBhcLZDRcRoGWmGKFWdmtiPy78yj7"),layout:i.TokenSwapLayout},legacy:[]}}}],f=function(e){var t=p.find((function(t){return t.name===e}));if(t){var n=t.swap();a=n.current.pubkey,o=n.current.layout,r=n.legacy}},m=function(){return{token:s,swap:a,swapLayout:o,swap_legacy:r}}},415:function(e,t){},417:function(e,t){},42:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return L})),n.d(t,"a",(function(){return M})),n.d(t,"g",(function(){return W})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return D})),n.d(t,"e",(function(){return z})),n.d(t,"d",(function(){return U}));var a=n(25),r=n(28),o=n(39),c=n(2),i=n.n(c),u=n(27),s=n(9),l=n(29),d=n(26),p=n(54),f=n(55),m=n(120),b=n(0),h=n.n(b),g=n(47),v=n(88),y=n(20),k=n(34),w=n(40),j=n(115),O=n(46),A=h.a.createContext(null),E=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,n.type)).id=void 0,a.id=e,a}return n}(Object(m.a)(Event));E.type="AccountUpdate";var S=new(function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"raiseAccountUpdated",value:function(e){this.dispatchEvent(new E(e))}}]),n}(Object(m.a)(EventTarget))),x=new Map,C=new Map,B=new Map,I=function(){var t=Object(s.a)(i.a.mark((function t(n,a){var r,o,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(a);case 2:if(null!==(r=t.sent)){t.next=5;break}throw new Error("Failed to find mint account");case 5:return o=e.from(r.data),c=R(o),s={pubkey:a,account:Object(u.a)({},r),info:c},t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),N=function(){var t=Object(s.a)(i.a.mark((function t(n,a){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(a);case 2:if(null!==(r=t.sent)){t.next=5;break}throw new Error("Failed to find mint account");case 5:return o=e.from(r.data),t.abrupt("return",G(o));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T={getAccount:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="string"===typeof n?new y.d(n):n,r=a.toBase58(),!(o=B.get(r))){e.next=5;break}return e.abrupt("return",o);case 5:if(!(c=C.get(r))){e.next=8;break}return e.abrupt("return",c);case 8:return c=I(t,a).then((function(e){return C.delete(r),B.set(r,e),e})),C.set(r,c),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="string"===typeof n?new y.d(n):n,!(r=x.get(a.toBase58()))){e.next=4;break}return e.abrupt("return",r);case 4:return o=N(t,a),x.set(a.toBase58(),o),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L=function(e){var t,n=Object(o.a)(B.values());try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e(a))return a}}catch(r){n.e(r)}finally{n.f()}};function _(e,t){if(t)return{pubkey:e,account:t,info:{mint:k.c,owner:e,amount:new w.d(t.lamports),delegate:null,delegatedAmount:new w.d(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}var K=new Set,F=function(){var e=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return K.add(n.toBase58()),e.next=5,t.getTokenAccountsByOwner(n,{programId:Object(k.d)().token});case 5:e.sent.value.map((function(e){var t=R(e.account.data);return{pubkey:e.pubkey,account:Object(u.a)({},e.account),info:t}})).forEach((function(e){B.set(e.pubkey.toBase58(),e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function M(t){var n=t.children,o=void 0===n?null:n,c=Object(g.c)(),i=Object(v.b)(),s=i.wallet,l=i.connected,d=Object(b.useState)([]),p=Object(r.a)(d,2),f=p[0],m=p[1],O=Object(b.useState)([]),E=Object(r.a)(O,2),C=E[0],I=E[1],N=function(){var e=Object(g.c)(),t=Object(v.b)().wallet,n=Object(b.useState)(),a=Object(r.a)(n,2),o=a[0],c=a[1];return Object(b.useEffect)((function(){e&&(null===t||void 0===t?void 0:t.publicKey)&&(e.getAccountInfo(t.publicKey).then((function(e){e&&c(e)})),e.onAccountChange(t.publicKey,(function(e){e&&c(e)})))}),[c,t,t.publicKey,e]),{nativeAccount:o}}().nativeAccount,T=Object(j.d)().pools,L=Object(b.useCallback)((function(){return Object(a.a)(B.values()).filter((function(e){return e.info.owner.toBase58()===s.publicKey.toBase58()}))}),[s]);return Object(b.useEffect)((function(){I([_(s.publicKey,N)].concat(Object(a.a)(f)).filter((function(e){return void 0!==e})))}),[N,s,f]),Object(b.useEffect)((function(){if(c&&s&&s.publicKey){F(c,k.a),F(c,s.publicKey).then((function(){m(L())}));var t=c.onProgramAccountChange(Object(k.d)().token,(function(t){var n=t.accountId;if(t.accountInfo.data.length===w.a.span){var a=R(t.accountInfo.data),r={pubkey:new y.d(t.accountId),account:Object(u.a)({},t.accountInfo),info:a};(K.has(r.info.owner.toBase58())||B.has(n))&&(B.set(n,r),m(L()),S.raiseAccountUpdated(n))}else if(t.accountInfo.data.length===w.b.span){if(x.has(n)){var o=e.from(t.accountInfo.data),c=G(o);x.set(n,new Promise((function(e){return e(c)}))),S.raiseAccountUpdated(n)}S.raiseAccountUpdated(n)}}),"singleGossip");return function(){c.removeProgramAccountChangeListener(t)}}m([])}),[c,l,null===s||void 0===s?void 0:s.publicKey]),h.a.createElement(A.Provider,{value:{userAccounts:C,pools:T,nativeAccount:N}},o)}function W(){return{account:Object(b.useContext)(A).nativeAccount}}function P(e){var t=Object(g.c)(),n=Object(b.useState)(),a=Object(r.a)(n,2),o=a[0],c=a[1];return Object(b.useEffect)((function(){if(e){T.getMint(t,e).then(c).catch((function(e){return Object(O.a)({message:e.message,type:"error"})}));var n=function(n){n.id===e&&T.getMint(t,e).then(c)};return S.addEventListener(E.type,n),function(){S.removeEventListener(E.type,n)}}}),[t,e]),o}function D(){return{userAccounts:Object(b.useContext)(A).userAccounts}}function z(){return{pools:Object(b.useContext)(A).pools}}var U=function(e){var t=D().userAccounts,n=t.findIndex((function(t){return t.info.mint.toBase58()===e}));if(-1!==n)return t[n]},R=function(e){var t=w.a.decode(e);return t.mint=new y.d(t.mint),t.owner=new y.d(t.owner),t.amount=w.d.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new w.d(0)):(t.delegate=new y.d(t.delegate),t.delegatedAmount=w.d.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=w.d.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new y.d(t.closeAuthority),t},G=function(e){if(e.length!==w.b.span)throw new Error("Not a valid Mint");var t=w.b.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new y.d(t.mintAuthority),t.supply=w.d.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new y.d(t.freezeAuthority),t}}).call(this,n(19).Buffer)},438:function(e,t,n){},448:function(e,t,n){},457:function(e,t,n){},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(220);function c(e){var t=e.message,n=void 0===t?"":t,a=e.description,c=void 0===a?void 0:a,i=e.txid,u=void 0===i?"":i,s=e.type,l=void 0===s?"info":s,d=e.placement,p=void 0===d?"bottomLeft":d;u&&(c=r.a.createElement(r.a.Fragment,null)),o.a[l]({message:r.a.createElement("span",{style:{color:"black"}},n),description:r.a.createElement("span",{style:{color:"black",opacity:.5}},c),placement:p,style:{backgroundColor:"white"}})}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"b",(function(){return w}));var a=n(2),r=n.n(a),o=n(25),c=n(9),i=n(28),u=n(56),s=n(20),l=n(0),d=n.n(l),p=n(34),f=n(46),m=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/"},{name:"testnet",endpoint:Object(s.h)("testnet")},{name:"devnet",endpoint:Object(s.h)("devnet")},{name:"localnet",endpoint:"http://127.0.0.1:8899"}],b=m[0].endpoint,h=d.a.createContext({endpoint:b,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new s.b(b,"recent"),sendConnection:new s.b(b,"recent"),env:m[0].name});function g(e){var t,n=e.children,a=void 0===n?void 0:n,r=Object(u.g)("connectionEndpts",m[0].endpoint),o=Object(i.a)(r,2),c=o[0],f=o[1],b=Object(u.g)("slippage",.25.toString()),g=Object(i.a)(b,2),v=g[0],y=g[1],k=Object(l.useMemo)((function(){return new s.b(c,"recent")}),[c]),w=Object(l.useMemo)((function(){return new s.b(c,"recent")}),[c]),j=(null===(t=m.find((function(e){return e.endpoint===c})))||void 0===t?void 0:t.name)||m[0].name;return Object(p.e)(j),Object(l.useEffect)((function(){var e=k.onAccountChange((new s.a).publicKey,(function(){}));return function(){k.removeAccountChangeListener(e)}}),[k]),Object(l.useEffect)((function(){var e=k.onSlotChange((function(){return null}));return function(){k.removeSlotChangeListener(e)}}),[k]),Object(l.useEffect)((function(){var e=w.onAccountChange((new s.a).publicKey,(function(){}));return function(){w.removeAccountChangeListener(e)}}),[w]),Object(l.useEffect)((function(){var e=w.onSlotChange((function(){return null}));return function(){w.removeSlotChangeListener(e)}}),[w]),d.a.createElement(h.Provider,{value:{endpoint:c,setEndpoint:f,slippage:parseFloat(v),setSlippage:function(e){return y(e.toString())},connection:k,sendConnection:w,env:j}},a)}function v(){return Object(l.useContext)(h).connection}function y(){var e=Object(l.useContext)(h);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env}}function k(){var e=Object(l.useContext)(h);return{slippage:e.slippage,setSlippage:e.setSlippage}}var w=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){var i,u,l,d,p,m,b,h,g=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=!(g.length>4&&void 0!==g[4])||g[4],l=new s.f,a.forEach((function(e){return l.add(e)})),e.next=5,t.getRecentBlockhash("max");case 5:return l.recentBlockhash=e.sent.blockhash,(i=l).setSigners.apply(i,[n.publicKey].concat(Object(o.a)(c.map((function(e){return e.publicKey}))))),c.length>0&&(d=l).partialSign.apply(d,Object(o.a)(c)),e.next=10,n.signTransaction(l);case 10:return l=e.sent,p=l.serialize(),m={skipPreflight:!0,commitment:"singleGossip"},e.next=15,t.sendRawTransaction(p,m);case 15:if(b=e.sent,!u){e.next=23;break}return e.next=19,t.confirmTransaction(b,m&&m.commitment);case 19:if(!(h=e.sent.value).err){e.next=23;break}throw Object(f.a)({message:"Transaction failed...",description:"".concat(b),type:"error"}),new Error("Raw transaction ".concat(b," failed (").concat(JSON.stringify(h),")"));case 23:return e.abrupt("return",b);case 24:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},488:function(e,t,n){},489:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(36),c=n.n(o),i=(n(304),n(305),n(107)),u=n(64),s=n(88),l=n(47),d=n(42),p=n(2),f=n.n(p),m=n(9),b=n(28),h=n(115),g=n(56),v=r.a.createContext(null);function y(e){var t=e.children,n=void 0===t?null:t,o=Object(l.c)(),c=Object(a.useState)(""),i=Object(b.a)(c,2),u=i[0],s=i[1],p=Object(a.useState)(""),y=Object(b.a)(p,2),k=y[0],w=y[1],j=Object(a.useState)(""),O=Object(b.a)(j,2),A=O[0],E=O[1],S=Object(a.useState)(""),x=Object(b.a)(S,2),C=x[0],B=x[1],I=Object(a.useState)(""),N=Object(b.a)(I,2),T=N[0],L=N[1],_=Object(d.d)(A),K=Object(d.d)(C),F=Object(d.f)(A),M=Object(d.f)(C),W=Object(h.c)([A,C]),P=Object(a.useCallback)(Object(m.a)(f.a.mark((function e(){var t,n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(W&&A&&C)){e.next=6;break}return T===A?(a=A,t=w,n=parseFloat(u)):(a=C,t=s,n=parseFloat(k)),e.next=4,Object(h.a)(o,a,n,W);case 4:void 0!==(r=e.sent)&&Number.isFinite(r)?t(r.toFixed(2)):t("");case 6:case"end":return e.stop()}}),e)}))),[W,A,C,s,w,u,k,o,T]);Object(a.useEffect)((function(){P()}),[k,u,T,P]);var D=function(e,t){return parseFloat(e)*Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0)};return r.a.createElement(v.Provider,{value:{A:{mintAddress:A,account:_,mint:F,amount:u,setAmount:s,setMint:E,convertAmount:function(){return D(u,F)},sufficientBalance:function(){return void 0!==_&&Object(g.a)(_,F)>=parseFloat(u)}},B:{mintAddress:C,account:K,mint:M,amount:k,setAmount:w,setMint:B,convertAmount:function(){return D(k,M)},sufficientBalance:function(){return void 0!==K&&Object(g.a)(K,M)>=parseFloat(k)}},setLastTypedAccount:L}},n)}var k=n(498),w=n(82),j=n(491),O=n(490),A=n(25),E=n(493),S=n(26),x=n(29),C=n(54),B=n(55),I=n(496),N=function(e){Object(C.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){var n=t.target.value;(!isNaN(n)&&/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,a=t.onBlur,r=t.onChange,o=n;"."!==n.charAt(n.length-1)&&"-"!==n||(o=n.slice(0,-1)),r(o.replace(/0*(\d+)/,"$1")),a&&a()},e}return Object(x.a)(n,[{key:"render",value:function(){return r.a.createElement(I.a,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(r.a.Component),T=(n(438),n(27)),L=n(273),_=n.n(L),K=(n(448),function(e){var t=e.address,n=Object(a.useRef)();return Object(a.useEffect)((function(){t&&n.current&&(n.current.innerHTML="",n.current.appendChild(_()(16,parseInt(t.slice(0,10),16))))}),[t]),r.a.createElement("div",{className:"identicon-wrapper",ref:n,style:e.style})}),F=function(e){var t=Object(l.d)().env,n=Object(g.c)(t,e.mintAddress);return n?r.a.createElement("img",{alt:"Token icon",key:e.mintAddress,width:"20",height:"20",src:n,style:Object(T.a)({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"1rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style)}):r.a.createElement(K,{address:e.mintAddress,style:Object(T.a)({marginRight:"0.5rem"},e.style)})},M=function(e){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(F,{mintAddress:e.mintA,style:Object(T.a)({marginRight:"-0.5rem"},e.style)}),r.a.createElement(F,{mintAddress:e.mintB}))},W=n(151),P=E.a.Option,D=function(e){var t=Object(d.h)().userAccounts,n=Object(d.e)().pools,a=Object(d.f)(e.mint),o=Object(l.d)().env,c=W[o].map((function(e){return r.a.createElement(P,{key:e.mintAddress,value:e.mintAddress,title:e.mintAddress},r.a.createElement("div",{key:e.mintAddress,style:{display:"flex",alignItems:"center"}},r.a.createElement(F,{mintAddress:e.mintAddress}),e.tokenSymbol))})),i=t.sort((function(e,t){return t.info.amount.gt(e.info.amount)?1:-1})).reduce((function(e,t){var a=t.info.mint.toBase58();if(Object(g.e)(o,a))return e;var r=n.find((function(e){return e&&e.pubkeys.mint.toBase58()===a}));return e.set(a,(e.get(a)||[]).concat([{account:t,pool:r}])),e}),new Map),u=Object(A.a)(i.keys()).map((function(e){var t=i.get(e);if(t&&!(t.length<=0)){var n=t[0];if(!n.account.info.amount.eqn(0)){var a,c;if(n.pool){a=Object(g.b)(o,n.pool);var u=n.pool.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort();c=r.a.createElement(M,{mintA:u[0],mintB:u[1]})}else a=Object(g.d)(o,e),c=r.a.createElement(F,{mintAddress:e});return r.a.createElement(P,{key:n.account.pubkey.toBase58(),value:e,title:e},r.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center"}},c,a))}}})),s=function(){var n=null===t||void 0===t?void 0:t.find((function(t){return t.info.mint.toBase58()===e.mint}));return n&&a?n.info.amount.toNumber()/Math.pow(10,a.decimals):0};return r.a.createElement(j.a,{className:"ccy-input",style:{borderRadius:20,margin:15},bodyStyle:{padding:0}},r.a.createElement("div",{className:"ccy-input-header"},r.a.createElement("div",{className:"ccy-input-header-left"},e.title),r.a.createElement("div",{className:"ccy-input-header-right",onClick:function(t){return e.onInputChange&&e.onInputChange(s())}},s().toFixed(6))),r.a.createElement("div",{className:"ccy-input-header",style:{padding:"0px 10px 5px 7px"}},r.a.createElement(N,{value:e.amount,onChange:function(t){e.onInputChange&&e.onInputChange(t)},style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},placeholder:"0.00"}),r.a.createElement("div",{className:"ccy-input-header-right",style:{display:"felx"}},r.a.createElement(E.a,{size:"large",style:{minWidth:80},placeholder:"CCY",value:e.mint,dropdownMatchSelectWidth:!0,dropdownStyle:{minWidth:200},onChange:function(t){e.onMintChange&&e.onMintChange(t)}},[].concat(Object(A.a)(c),Object(A.a)(u))))))},z=n(499),U=n(46),R=function(e){return"Insufficient ".concat(e," funds")},G=(n(457),r.a.createElement(z.a,{style:{fontSize:24},spin:!0})),V=function(){var e,t,n=Object(s.b)(),o=n.wallet,c=n.connected,i=Object(l.c)(),u=Object(a.useState)(!1),d=Object(b.a)(u,2),p=d[0],y=d[1],k=Object(a.useContext)(v),j=k.A,A=k.B,E=k.setLastTypedAccount,S=Object(h.c)([null===j||void 0===j?void 0:j.mintAddress,null===A||void 0===A?void 0:A.mintAddress]),x=Object(l.e)().slippage,C=Object(l.d)().env,B=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.account||!A.mintAddress){e.next=14;break}return e.prev=1,y(!0),t=[{account:j.account,mintAddress:j.mintAddress,amount:j.convertAmount()},{mintAddress:A.mintAddress,amount:A.convertAmount()}],e.next=6,Object(h.b)(i,o,t,x,S);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(U.a)({description:"Please try again and approve transactions from your wallet",message:"Swap trade cancelled.",type:"error"});case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(D,{title:"From",onInputChange:function(e){j.amount!==e&&E(j.mintAddress),j.setAmount(e)},amount:j.amount,mint:j.mintAddress,onMintChange:function(e){j.setMint(e)}}),r.a.createElement(w.a,{type:"primary",className:"swap-button",onClick:function(){var e=j.mintAddress,t=j.amount;j.setMint(A.mintAddress),j.setAmount(A.amount),A.setMint(e),A.setAmount(t)}},"\u21c5"),r.a.createElement(D,{title:"To",onInputChange:function(e){A.amount!==e&&E(A.mintAddress),A.setAmount(e)},amount:A.amount,mint:A.mintAddress,onMintChange:function(e){A.setMint(e)}})),r.a.createElement(w.a,{className:"trade-button",type:"primary",size:"large",onClick:c?B:o.connect,style:{width:"93%"},disabled:c&&(p||!j.account||!A.mintAddress||j.account===A.account||!j.sufficientBalance()||!S)},function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return t?a.mintAddress?a.amount?r.mintAddress?r.amount?a.sufficientBalance()?o||r.sufficientBalance()?e:R(Object(g.d)(n,r.mintAddress)):R(Object(g.d)(n,a.mintAddress)):"Enter an amount":"Select a token":"Enter an amount":"Select a token":"Connect Wallet"}(S?"Swap":(e=Object(g.d)(C,j.mintAddress),t=Object(g.d)(C,A.mintAddress),"Pool ".concat(e,"/").concat(t," doesn't exsist")),c,C,j,A,!0),p&&r.a.createElement(O.a,{indicator:G,className:"trade-spinner"})))},J=function(){var e=Object(l.e)(),t=e.slippage,n=e.setSlippage,o=100*t,c=Object(a.useState)(o.toString()),i=Object(b.a)(c,2),u=i[0],s=i[1];Object(a.useEffect)((function(){s(o.toString())}),[t,o]);var d={margin:5};return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},[.1,.5,1].map((function(e){return r.a.createElement(w.a,{key:e.toString(),style:d,type:(t=e,t===o?"primary":"default"),onClick:function(){return n(e/100)}},e,"%");var t})),r.a.createElement("div",{style:{padding:"3px 10px 3px 3px",border:"1px solid #434343"}},r.a.createElement(N,{className:"slippage-input",size:"small",placeholder:u,value:u,style:{width:50,fontSize:14,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},onChange:function(e){var t=Math.min(parseFloat(e),25),a=Number.isNaN(t)?.1.toString():t.toString();s(a);var r=parseFloat(a)/100;Number.isFinite(r)&&n(r)}}),"%"))},Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null))},q=n(501),X=n(495),Z=n(20),H=function(e){var t=Object(s.b)().wallet,n=Object(d.g)().account;return t&&t.publicKey?r.a.createElement("div",{className:"wallet-wrapper"},r.a.createElement("span",null,(((null===n||void 0===n?void 0:n.lamports)||0)/Z.c).toFixed(6)," SOL"),r.a.createElement("div",{className:"wallet-key"},Object(g.f)("".concat(t.publicKey)),r.a.createElement(K,{address:t.publicKey.toBase58(),style:{marginLeft:"0.5rem"}}))):null},Q=n(497),$=n(500),ee=n(492),te=function(e){var t,n,a=e.type,o=e.code,c="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58();if(!c)return null;var i=null!==(n=e.length)&&void 0!==n?n:9;return r.a.createElement("a",{href:"https://explorer.solana.com/".concat(a,"/").concat(c),target:"_blank",title:c,style:e.style},o?r.a.createElement(ee.a.Text,{style:e.style,code:!0},Object(g.f)(c,i)):Object(g.f)(c,i))},ne=function(e){var t,n=e.children,a=Object(s.b)(),o=a.connected,c=a.wallet,i=a.select,u=a.disconnect,l=o&&(null===c||void 0===c||null===(t=c.publicKey)||void 0===t?void 0:t.toBase58())||"",d=r.a.createElement(X.a,{style:{textAlign:"right"}},o&&r.a.createElement(te,{type:"account",address:l,style:{padding:12}}),r.a.createElement(X.a.Item,{key:"3",onClick:i},"Change Wallet"),o&&r.a.createElement(X.a.Item,{key:"2",style:{color:"rgba(255, 0, 0, 0.7)"},onClick:u},"Disconnect"));return o?r.a.createElement(Q.a,{overlay:d,trigger:["hover"]},r.a.createElement("div",{style:{cursor:"pointer"}},n)):r.a.createElement(Q.a.Button,{type:"primary",onClick:o?u:i,overlay:d,icon:null},o?"Disconnect":r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,null),r.a.createElement("span",{style:{marginLeft:"5px"}},"Connect Wallet")))},ae=function(e){var t=Object(u.f)(),n=t.pathname;return t.pathname.includes("/trade")&&(n="/trade"),r.a.createElement("div",{className:"App-Bar"},r.a.createElement("div",{className:"App-Bar-left"},r.a.createElement("div",{className:"App-logo"}),r.a.createElement(X.a,{mode:"horizontal",selectedKeys:[n]},r.a.createElement(X.a.Item,{key:"/home"},r.a.createElement("a",{href:"https://1space.me/"},"Home")),r.a.createElement(X.a.Item,{key:"/"},r.a.createElement(i.b,{to:{pathname:"/"},isActive:function(e,t){return t.pathname.includes("/")}},"Swap")),r.a.createElement(X.a.Item,{disabled:!0,key:"/add"},r.a.createElement(i.b,{to:{pathname:"/add"},isActive:function(e,t){return t.pathname.includes("/add")}},"Liquidity")),r.a.createElement(X.a.Item,{disabled:!0,key:"/dex"},r.a.createElement("a",{href:"https://app.1space.me/",target:"_blank",rel:"noopener noreferrer"},"Trading")),r.a.createElement(X.a.Item,{disabled:!0,key:"/staking"},r.a.createElement(i.b,{to:{pathname:"/staking"}},"Staking")),r.a.createElement(X.a.Item,{disabled:!0,key:"/toolkit"},r.a.createElement(i.b,{to:{pathname:"/toolkit"}},"Farms")),r.a.createElement(X.a.Item,{disabled:!0,key:"nft"},"NFT"),r.a.createElement(X.a.Item,{disabled:!0,key:"/dashboard"},r.a.createElement(i.b,{to:{pathname:"/dashboard"}},"Dashboard")),r.a.createElement(X.a.Item,{disabled:!0,key:"/doc"},r.a.createElement("a",{href:"https://app.1space.me/",target:"_blank",rel:"noopener noreferrer"},"Docs"))),e.left),r.a.createElement("div",{className:"App-Bar-right"},r.a.createElement(ne,null,r.a.createElement(H,null)),e.right))},re=n(288),oe=n.n(re),ce=n(289),ie=n.n(ce),ue=n(290),se=n.n(ue),le=n(291),de=n.n(le),pe=(n(488),function(){return r.a.createElement("div",{className:"socials"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"icon"},r.a.createElement("a",{href:"https://t.me/Onespace_tech",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:ie.a,alt:""}))),r.a.createElement("div",{className:"icon"},r.a.createElement("a",{href:"https://discord.com/invite/xud97tybPc",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{width:"30",src:de.a,alt:""}))),r.a.createElement("div",{className:"icon"},r.a.createElement("a",{href:"https://twitter.com/1space_me",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:oe.a,alt:""}))),r.a.createElement("div",{className:"icon"},r.a.createElement("a",{href:"https://github.com/Onespace-Project",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:se.a,alt:""})))))}),fe=function(e){var t=function(){return r.a.createElement(V,null)},n=Object(u.f)();Object(u.e)(),n.pathname.indexOf("add");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{right:r.a.createElement(k.a,{placement:"topRight",title:"Slippage",content:r.a.createElement(Y,null),trigger:"click"},r.a.createElement(w.a,{shape:"circle",size:"large",type:"text",icon:r.a.createElement(q.a,null)}))}),r.a.createElement("div",null,r.a.createElement(j.a,{className:"exchange-card",headStyle:{padding:0},bodyStyle:{position:"relative",padding:"0 0px 20px"}},t()),r.a.createElement(pe,null)))};function me(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{basename:"/"},r.a.createElement(l.a,null,r.a.createElement(s.a,null,r.a.createElement(d.a,null,r.a.createElement(y,null,r.a.createElement(u.a,{exact:!0,path:"/",component:fe}),r.a.createElement(u.a,{exact:!0,path:"/add",component:fe})))))))}var be=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(me,null),r.a.createElement("div",{className:"social-buttons"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return f}));var a=n(28),r=n(0),o=n(151),c=Object.keys(o).reduce((function(e,t){var n=o[t].reduce((function(e,t){return e.set(t.mintAddress,t),e}),new Map);return e.set(t,n),e}),new Map);function i(e,t){var n=Object(r.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),o=Object(a.a)(n,2),c=o[0],i=o[1],u=Object(r.useCallback)((function(t){c!==t&&(i(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[c,e]);return[c,u]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.substring(0,t),"...").concat(e.substring(44-t))}function s(e,t){var n,a,r=null===(n=c.get(e))||void 0===n||null===(a=n.get(t))||void 0===a?void 0:a.tokenSymbol;return r||u(t).substring(10).toUpperCase()}function l(e,t){var n,a;return null===(n=c.get(e))||void 0===n||null===(a=n.get(t))||void 0===a?void 0:a.icon}function d(e,t){return t.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort().map((function(t){return s(e,t)})).join("/")}function p(e,t){var n;return!!(null===(n=c.get(e))||void 0===n?void 0:n.get(t))}function f(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var r=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return(null===(n=e.info.amount)||void 0===n?void 0:n.toNumber())/r*a}},68:function(e,t,n){"use strict";var a=n(246);n.o(a,"TokenSwapLayout")&&n.d(t,"TokenSwapLayout",(function(){return a.TokenSwapLayout})),n.o(a,"TokenSwapLayoutLegacyV0")&&n.d(t,"TokenSwapLayoutLegacyV0",(function(){return a.TokenSwapLayoutLegacyV0})),n.o(a,"createInitSwapInstruction")&&n.d(t,"createInitSwapInstruction",(function(){return a.createInitSwapInstruction})),n.o(a,"depositInstruction")&&n.d(t,"depositInstruction",(function(){return a.depositInstruction})),n.o(a,"swapInstruction")&&n.d(t,"swapInstruction",(function(){return a.swapInstruction})),n.o(a,"withdrawInstruction")&&n.d(t,"withdrawInstruction",(function(){return a.withdrawInstruction}));var r=n(247);n.o(r,"TokenSwapLayout")&&n.d(t,"TokenSwapLayout",(function(){return r.TokenSwapLayout})),n.o(r,"TokenSwapLayoutLegacyV0")&&n.d(t,"TokenSwapLayoutLegacyV0",(function(){return r.TokenSwapLayoutLegacyV0})),n.o(r,"createInitSwapInstruction")&&n.d(t,"createInitSwapInstruction",(function(){return r.createInitSwapInstruction})),n.o(r,"depositInstruction")&&n.d(t,"depositInstruction",(function(){return r.depositInstruction})),n.o(r,"swapInstruction")&&n.d(t,"swapInstruction",(function(){return r.swapInstruction})),n.o(r,"withdrawInstruction")&&n.d(t,"withdrawInstruction",(function(){return r.withdrawInstruction}));var o=n(248);n.d(t,"TokenSwapLayout",(function(){return o.a})),n.d(t,"TokenSwapLayoutLegacyV0",(function(){return o.b})),n.d(t,"createInitSwapInstruction",(function(){return o.c})),n.d(t,"depositInstruction",(function(){return o.d})),n.d(t,"swapInstruction",(function(){return o.e})),n.d(t,"withdrawInstruction",(function(){return o.f}))},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return _}));var a=n(28),r=n(0),o=n.n(r),c=n(265),i=n(494),u=n(82),s=n(2),l=n.n(s),d=n(9),p=n(26),f=n(29),m=n(54),b=n(55),h=n(81),g=n.n(h),v=n(267),y=n(46),k=n(215),w=n(20),j=new w.d("11111111111111111111111111111111"),O=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._connecting=void 0,e._publicKey=void 0,e._transport=void 0,e._connecting=!1,e._publicKey=null,e._transport=null,e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=0;case 2:if(!(a<t.length)){e.next=11;break}return r=t[a],e.next=6,this.signTransaction(r);case 6:o=e.sent,n.push(o);case 8:a++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transport&&this._publicKey){e.next=2;break}throw new Error("Not connected to Ledger");case 2:return e.next=4,Object(k.b)(this._transport,t);case 4:return n=e.sent,t.addSignature(this._publicKey,n),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connecting){e.next=2;break}return e.abrupt("return");case 2:return this._connecting=!0,e.prev=3,e.next=6,v.a.create();case 6:return this._transport=e.sent,e.next=9,Object(k.a)(this._transport);case 9:this._publicKey=e.sent,this.emit("connect",this._publicKey),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),Object(y.a)({message:"Ledger Error",description:e.t0.message}),e.next=18,this.disconnect();case 18:return e.prev=18,this._connecting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._transport){e.next=6;break}return e.next=4,this._transport.close();case 4:this._transport=null,t=!0;case 6:this._connecting=!1,this._publicKey=null,t&&this.emit("disconnect");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publicKey",get:function(){return this._publicKey||j}},{key:"connected",get:function(){return null!==this._publicKey}},{key:"autoApprove",get:function(){return!1}}]),n}(g.a),A=n(70),E=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._publicKey=void 0,e._onProcess=void 0,e._connected=void 0,e._onProcess=!1,e._connected=!1,e.connect=e.connect.bind(Object(A.a)(e)),e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.solong).signAllTransactions){e.next=5;break}return e.abrupt("return",n.signAllTransactions(t));case 5:a=[],r=0;case 7:if(!(r<t.length)){e.next=16;break}return o=t[r],e.next=11,n.signTransaction(o);case 11:c=e.sent,a.push(c);case 13:r++,e.next=7;break;case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,window.solong.selectAccount().then((function(t){e._publicKey=new w.d(t),e._connected=!0,e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):Object(y.a)({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=void 0,this._connected=!1,this.emit("disconnect"))}},{key:"connected",get:function(){return this._connected}},{key:"autoApprove",get:function(){return!1}},{key:"publicKey",get:function(){return this._publicKey||j}}]),n}(g.a),S=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._provider=void 0,e.connect=Object(d.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._provider){t.next=2;break}return t.abrupt("return");case 2:if(!(null===(n=window)||void 0===n||null===(a=n.solana)||void 0===a?void 0:a.isPhantom)){t.next=6;break}r=window.solana,t.next=9;break;case 6:return window.open("https://phantom.app/","_blank"),Object(y.a)({message:"Phantom Error",description:"Please install Phantom wallet from Chrome "}),t.abrupt("return");case 9:if(r.on("connect",(function(){e._provider=r,e.emit("connect")})),r.isConnected){t.next=13;break}return t.next=13,r.connect();case 13:e._provider=r,e.emit("connect");case 15:case"end":return t.stop()}}),t)}))),e.connect=e.connect.bind(Object(A.a)(e)),e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){this._provider&&(this._provider.disconnect(),this._provider=void 0,this.emit("disconnect"))}},{key:"connected",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.isConnected)||!1}},{key:"autoApprove",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.autoApprove)||!1}},{key:"publicKey",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.publicKey)||j}}]),n}(g.a),x=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._publicKey=void 0,e._onProcess=void 0,e._connected=void 0,e._onProcess=!1,e._connected=!1,e.connect=e.connect.bind(Object(A.a)(e)),e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;if(!this._onProcess){if(!this._provider)return window.open("https://mathwallet.org/","_blank"),void Object(y.a)({message:"Math Wallet Error",description:"Please install mathwallet"});this._onProcess=!0,this._provider.getAccount().then((function(t){e._publicKey=new w.d(t),e._connected=!0,e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))}}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=void 0,this._connected=!1,this.emit("disconnect"))}},{key:"connected",get:function(){return this._connected}},{key:"autoApprove",get:function(){return!1}},{key:"_provider",get:function(){var e,t;if(null===(e=window)||void 0===e||null===(t=e.solana)||void 0===t?void 0:t.isMathWallet)return window.solana}},{key:"publicKey",get:function(){return this._publicKey||j}}]),n}(g.a),C=n(47),B=n(56),I="https://cdn.jsdelivr.net/gh/solana-labs/oyster@main/assets/wallets",N=[{name:"sollet.io",url:"https://www.sollet.io",icon:"".concat(I,"/sollet.svg")},{name:"Solflare",url:"https://solflare.com/access-wallet",icon:"".concat(I,"/solflare.svg")},{name:"Ledger",url:"https://www.ledger.com",icon:"".concat(I,"/ledger.svg"),adapter:O},{name:"Solong",url:"https://www.solong.com",icon:"".concat(I,"/solong.png"),adapter:E},{name:"MathWallet",url:"https://www.mathwallet.org",icon:"".concat(I,"/mathwallet.svg"),adapter:x},{name:"Phantom",url:"https://www.phantom.app",icon:"https://www.phantom.app/img/logo.png",adapter:S}],T=o.a.createContext(null);function L(e){var t,n,s=e.children,l=void 0===s?null:s,d=Object(C.d)().endpoint,p=Object(r.useState)(!1),f=Object(a.a)(p,2),m=f[0],b=f[1],h=Object(B.g)("walletProvider"),g=Object(a.a)(h,2),v=g[0],k=g[1],w=Object(r.useMemo)((function(){return N.find((function(e){return e.url===v}))}),[v]),j=Object(r.useMemo)((function(){if(w)return new(w.adapter||c.a)(v,d)}),[w,v,d]),O=Object(r.useState)(!1),A=Object(a.a)(O,2),E=A[0],S=A[1];Object(r.useEffect)((function(){return j&&(j.on("connect",(function(){if(j.publicKey){console.log("connected"),localStorage.removeItem("feeDiscountKey"),S(!0);var e=j.publicKey.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;Object(y.a)({message:"Wallet update",description:"Connected to wallet "+t})}})),j.on("disconnect",(function(){S(!1),Object(y.a)({message:"Wallet update",description:"Disconnected from wallet"}),localStorage.removeItem("feeDiscountKey")}))),function(){S(!1),j&&(j.disconnect(),S(!1))}}),[j]),Object(r.useEffect)((function(){return j&&m&&(j.connect(),b(!1)),function(){}}),[j,m]);var x=Object(r.useState)(!1),I=Object(a.a)(x,2),L=I[0],_=I[1],K=Object(r.useCallback)((function(){return _(!0)}),[]),F=Object(r.useCallback)((function(){return _(!1)}),[]);return o.a.createElement(T.Provider,{value:{wallet:j,connected:E,select:K,providerUrl:v,setProviderUrl:k,providerName:null!==(t=null===(n=N.find((function(e){return e.url===v})))||void 0===n?void 0:n.name)&&void 0!==t?t:v}},l,o.a.createElement(i.a,{title:"Select Wallet",okText:"Connect",visible:L,okButtonProps:{style:{display:"none"}},onCancel:F,width:400},N.map((function(e){return o.a.createElement(u.a,{size:"large",type:v===e.url?"primary":"ghost",onClick:function(){k(e.url),b(!0),F()},icon:o.a.createElement("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:8}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8}},e.name)}))))}function _(){var e=Object(r.useContext)(T);if(!e)throw new Error("Missing wallet context");var t=e.wallet;return{connected:e.connected,wallet:t,providerUrl:e.providerUrl,setProvider:e.setProviderUrl,providerName:e.providerName,select:e.select,connect:function(){t?t.connect():e.select()},disconnect:function(){null===t||void 0===t||t.disconnect()}}}}},[[299,1,2]]]);